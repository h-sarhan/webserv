# Start of a virtual server block. First server specified will be the default
server
{
    #Listen to a specific port. Only a single port is allowed here. This is a required field
    listen 1234;

    # This sets the hostname. Optional
    server_name localhost;

    # Specify an error page for an error response.
    # This is an optional field but a default error page must be used if not specified
    # ! We dont handle this yet
    error_page 404 assets/404.html;

    # We can use this directive for multiple responses.
    # ! We dont handle this yet
    error_page 502 assets/502.html;

    # Specify a route that should match on the request target
    location / {
        # If request was for webserv.com/bop.html
        # Then we try to serve /assets/web/bop.html
        # A location needs a redirect or a try_files
        # A config that includes neither or both is invalid
        try_files ./YoupiBanane/;
        directory_listing false;

        # If the client requests to view a directory then show them this file instead
        # If directory_listing is true and this field is specified then this file will be ignored
        # This is optional but we should have defaults
        directory_listing_file ./assets/dir.html;
        # If client message body is greater than 200KB then we respond with an error. Optional, but we should have defaults
        # ! We dont handle this yet

        # We specify which HTTP methods are allowed for each route. Optional, but we should have defaults
        methods GET;

    }

    # You can have multiple location blocks
    location /put_test {
        # Redirect to another location. This is handled by sending a 3XX response
        # ! We kind of handle this
        try_files ./YoupiBanane/;
        methods GET POST DELETE PUT;
    }
    
    # You can have multiple location blocks
    location /post_body {
        # Redirect to another location. This is handled by sending a 3XX response
        # ! We kind of handle this
        try_files ./YoupiBanane/;
        methods GET POST DELETE PUT;
        body_size 100;

    }
    
    # You can have multiple location blocks
    location /directory {
        # Redirect to another location. This is handled by sending a 3XX response
        # ! We kind of handle this
        try_files ./YoupiBanane/;
        methods GET POST DELETE PUT;
    }
}
